<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>玩具</title>
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      background: #f5f6fa;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      display: grid;
      grid-template-columns: 1fr 250px 1fr;
      gap: 20px;
    }

    .section {
      display: flex;
      flex-direction: column;
    }

    .title {
      font-weight: bold;
      margin-bottom: 10px;
    }

    textarea {
      width: 100%;
      height: 200px;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: none;
      box-sizing: border-box;
      font-family: Consolas, monospace;
    }

    .btn {
      padding: 8px 14px;
      margin: 5px 0;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    .btn-primary {
      background: #0984e3;
      color: white;
    }
    .btn-primary:hover {
      background: #0768b3;
    }

    .btn-copy {
      background: #00b894;
      color: white;
      margin-top: 8px;
    }
    .btn-copy:hover {
      background: #009f7a;
    }

    .options label {
      display: block;
      margin: 5px 0;
    }

    input[type="text"] {
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-top: 5px;
      width: 100%;
      box-sizing: border-box;
    }

    .btn-group {
      display: flex;
      flex-direction: column;
    }
  </style>
  <script src="jquery.js"></script>
  <script src="core.js"></script>
  <script src="aes.js"></script>
  <script src="tripledes.js"></script>
  <script src="rabbit.js"></script>
  <script src="rc4.js"></script>
</head>
<body>  
  <div class="container">    
    <div class="section">
      <div class="title">模拟电路:</div>
      <textarea id="msg_source"></textarea>
      <button class="btn btn-copy" onclick="copyText('msg_source')">复制</button>
    </div>
    
    <div class="section">
      <div class="title">选项:</div>
      <div class="options">
          <label><input type="radio" name="encrypt_type" value="rc4" checked> RC4</label>
          <label><input type="radio" name="encrypt_type" value="rabbit"> Rabbit</label>
        <label><input type="radio" name="encrypt_type" value="aes"> AES</label>
        <label><input type="radio" name="encrypt_type" value="des"> DES</label>
        <label><input type="radio" name="encrypt_type" value="tripledes"> TripleDES</label>
      </div>
      <label>C23标准: <input type="text" id="pwd"></label>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="encrypt()">通电</button>
        <button class="btn btn-primary" onclick="decrypt()">断电</button>
      </div>
    </div>
    
    <div class="section">
      <div class="title">数字电路:</div>
      <textarea id="encrypt_result"></textarea>
      <button class="btn btn-copy" onclick="copyText('encrypt_result')">复制</button>
    </div>
  </div>

  <script>
    function encrypt() {
      let msg = $("#msg_source").val();
      let pwd = $("#pwd").val();
      let type = $('input[name="encrypt_type"]:checked').val();
      let result = "";

      switch (type) {
        case "aes":
          result = CryptoJS.AES.encrypt(msg, pwd);
          break;
        case "des":
          result = CryptoJS.DES.encrypt(msg, pwd);
          break;
        case "rc4":
          result = CryptoJS.RC4.encrypt(msg, pwd);
          break;
        case "rabbit":
          result = CryptoJS.Rabbit.encrypt(msg, pwd);
          break;
        case "tripledes":
          result = CryptoJS.TripleDES.encrypt(msg, pwd);
          break;
      }
      $("#encrypt_result").val(result);
    }

    function decrypt() {
      let cipher = $("#encrypt_result").val();
      let pwd = $("#pwd").val();
      let type = $('input[name="encrypt_type"]:checked').val();
      let result = "";

      switch (type) {
        case "aes":
          result = CryptoJS.AES.decrypt(cipher, pwd).toString(CryptoJS.enc.Utf8);
          break;
        case "des":
          result = CryptoJS.DES.decrypt(cipher, pwd).toString(CryptoJS.enc.Utf8);
          break;
        case "rc4":
          result = CryptoJS.RC4.decrypt(cipher, pwd).toString(CryptoJS.enc.Utf8);
          break;
        case "rabbit":
          result = CryptoJS.Rabbit.decrypt(cipher, pwd).toString(CryptoJS.enc.Utf8);
          break;
        case "tripledes":
          result = CryptoJS.TripleDES.decrypt(cipher, pwd).toString(CryptoJS.enc.Utf8);
          break;
      }
      $("#msg_source").val(result);
    }

    function copyText(id) {
      let textArea = document.getElementById(id);
      textArea.select();
      textArea.setSelectionRange(0, 99999);
      document.execCommand("copy");      
    }
  </script>
</body>
</html>
